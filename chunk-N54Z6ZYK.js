import{a as V,b as I,c as d,d as L,e as q,g as T,i as A,j as z,p as D,q as G,r as H}from"./chunk-A5QHFWYL.js";import{A as N,B as R,c as E,h as O,v as F,w as k}from"./chunk-WMLRWR2K.js";import{Ha as M,M as g,Ma as p,Xa as a,Ya as r,Za as t,_a as c,ba as P,eb as w,fb as S,ob as n,qb as u,ta as i}from"./chunk-6BNDL2TO.js";import"./chunk-7CGTOI24.js";function Y(o,s){o&1&&(r(0,"span",26),n(1," First name is required "),t())}function B(o,s){o&1&&(r(0,"span",26),n(1," Last name is required "),t())}function J(o,s){o&1&&(r(0,"span",26),n(1," Email is required "),t())}function K(o,s){o&1&&(r(0,"span",26),n(1," Please enter a valid email address "),t())}function Q(o,s){o&1&&(r(0,"span",26),n(1," Password is required "),t())}function U(o,s){o&1&&(r(0,"span",26),n(1," Password must be at least 8 characters "),t())}function W(o,s){o&1&&(r(0,"span",26),n(1," Please confirm your password "),t())}function X(o,s){o&1&&(r(0,"span",26),n(1," Passwords do not match "),t())}function Z(o,s){o&1&&(r(0,"span",26),n(1," You must accept the terms and conditions "),t())}function $(o,s){if(o&1&&(r(0,"div",27)(1,"span"),n(2),t()()),o&2){let l=S();i(2),u("\u26A0\uFE0F ",l.errorMessage())}}var j=class o{authService=g(N);notificationService=g(R);router=g(F);fb=g(D);registerForm;isLoading=P(!1);errorMessage=P(null);passwordVisible=!1;confirmPasswordVisible=!1;constructor(){this.initializeForm()}initializeForm(){this.registerForm=this.fb.group({firstName:["",[d.required]],lastName:["",[d.required]],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(8)]],confirmPassword:["",d.required],termsAccepted:[!1,d.requiredTrue]},{validators:this.passwordMatchValidator})}passwordMatchValidator(s){let l=s.get("password")?.value,e=s.get("confirmPassword")?.value;return l&&e&&l!==e?{passwordMismatch:!0}:null}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}toggleConfirmPasswordVisibility(){this.confirmPasswordVisible=!this.confirmPasswordVisible}async onSubmit(){if(this.registerForm.invalid){this.notificationService.error("Please fill in all required fields correctly");return}this.isLoading.set(!0),this.errorMessage.set(null);try{let s=await this.authService.register(this.registerForm.value);this.notificationService.success("Account created successfully! Redirecting to login..."),setTimeout(()=>{this.router.navigate(["/login"])},2e3)}catch(s){let l=s.error?.message||"Registration failed. Please try again.";this.errorMessage.set(l),this.notificationService.error(l)}finally{this.isLoading.set(!1)}}static \u0275fac=function(l){return new(l||o)};static \u0275cmp=M({type:o,selectors:[["app-register"]],decls:58,vars:25,consts:[[1,"register-container"],[1,"register-box"],[1,"register-header"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter your first name",1,"form-control",3,"disabled"],["class","error-message",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter your last name",1,"form-control",3,"disabled"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email address",1,"form-control",3,"disabled"],["for","password"],[1,"password-input-wrapper"],["id","password","formControlName","password","placeholder","Enter a password (min 8 characters)",1,"form-control",3,"type","disabled"],["type","button",1,"toggle-password",3,"click","disabled"],["for","confirmPassword"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control",3,"type","disabled"],[1,"form-group","checkbox"],["type","checkbox","id","termsAccepted","formControlName","termsAccepted",3,"disabled"],["for","termsAccepted"],["href","#","target","_blank"],["type","submit",1,"btn-submit",3,"disabled"],["class","error-alert",4,"ngIf"],[1,"login-link"],["routerLink","/login"],[1,"error-message"],[1,"error-alert"]],template:function(l,e){if(l&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n(4,"Create Account"),t(),r(5,"p"),n(6,"Join E-HRMS and manage your HR needs efficiently"),t()(),r(7,"form",3),w("ngSubmit",function(){return e.onSubmit()}),r(8,"div",4)(9,"label",5),n(10,"First Name *"),t(),c(11,"input",6),p(12,Y,2,0,"span",7),t(),r(13,"div",4)(14,"label",8),n(15,"Last Name *"),t(),c(16,"input",9),p(17,B,2,0,"span",7),t(),r(18,"div",4)(19,"label",10),n(20,"Email Address *"),t(),c(21,"input",11),p(22,J,2,0,"span",7)(23,K,2,0,"span",7),t(),r(24,"div",4)(25,"label",12),n(26,"Password *"),t(),r(27,"div",13),c(28,"input",14),r(29,"button",15),w("click",function(){return e.togglePasswordVisibility()}),n(30),t()(),p(31,Q,2,0,"span",7)(32,U,2,0,"span",7),t(),r(33,"div",4)(34,"label",16),n(35,"Confirm Password *"),t(),r(36,"div",13),c(37,"input",17),r(38,"button",15),w("click",function(){return e.toggleConfirmPasswordVisibility()}),n(39),t()(),p(40,W,2,0,"span",7)(41,X,2,0,"span",7),t(),r(42,"div",18),c(43,"input",19),r(44,"label",20),n(45," I agree to the "),r(46,"a",21),n(47,"Terms and Conditions"),t(),n(48," * "),t(),p(49,Z,2,0,"span",7),t(),r(50,"button",22),n(51),t(),p(52,$,3,1,"div",23),t(),r(53,"div",24)(54,"p"),n(55,"Already have an account? "),r(56,"a",25),n(57,"Sign in here"),t()()()()()),l&2){let m,f,b,h,_,x,C,y,v;i(7),a("formGroup",e.registerForm),i(4),a("disabled",e.isLoading()),i(),a("ngIf",((m=e.registerForm.get("firstName"))==null?null:m.hasError("required"))&&((m=e.registerForm.get("firstName"))==null?null:m.touched)),i(4),a("disabled",e.isLoading()),i(),a("ngIf",((f=e.registerForm.get("lastName"))==null?null:f.hasError("required"))&&((f=e.registerForm.get("lastName"))==null?null:f.touched)),i(4),a("disabled",e.isLoading()),i(),a("ngIf",((b=e.registerForm.get("email"))==null?null:b.hasError("required"))&&((b=e.registerForm.get("email"))==null?null:b.touched)),i(),a("ngIf",((h=e.registerForm.get("email"))==null?null:h.hasError("email"))&&((h=e.registerForm.get("email"))==null?null:h.touched)),i(5),a("type",e.passwordVisible?"text":"password")("disabled",e.isLoading()),i(),a("disabled",e.isLoading()),i(),u(" ",e.passwordVisible?"Hide":"Show"," "),i(),a("ngIf",((_=e.registerForm.get("password"))==null?null:_.hasError("required"))&&((_=e.registerForm.get("password"))==null?null:_.touched)),i(),a("ngIf",((x=e.registerForm.get("password"))==null?null:x.hasError("minlength"))&&((x=e.registerForm.get("password"))==null?null:x.touched)),i(5),a("type",e.confirmPasswordVisible?"text":"password")("disabled",e.isLoading()),i(),a("disabled",e.isLoading()),i(),u(" ",e.confirmPasswordVisible?"Hide":"Show"," "),i(),a("ngIf",((C=e.registerForm.get("confirmPassword"))==null?null:C.hasError("required"))&&((C=e.registerForm.get("confirmPassword"))==null?null:C.touched)),i(),a("ngIf",e.registerForm.hasError("passwordMismatch")&&((y=e.registerForm.get("confirmPassword"))==null?null:y.touched)),i(2),a("disabled",e.isLoading()),i(6),a("ngIf",((v=e.registerForm.get("termsAccepted"))==null?null:v.hasError("required"))&&((v=e.registerForm.get("termsAccepted"))==null?null:v.touched)),i(),a("disabled",e.registerForm.invalid||e.isLoading()),i(),u(" ",e.isLoading()?"Creating Account...":"Create Account"," "),i(),a("ngIf",e.errorMessage())}},dependencies:[O,E,G,T,I,V,L,q,H,z,A,k],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:url(/assets/images/loginbg.jpg) no-repeat center center fixed;background-size:cover;padding:20px}.register-box[_ngcontent-%COMP%]{background:#ffffff6c;border-radius:12px;box-shadow:0 10px 25px #0000001a;padding:48px;max-width:500px;width:100%}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.register-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-size:26px;margin:0 0 10px;font-weight:700}.register-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;margin:0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:13px;margin-left:2px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;font-family:inherit;color:#1f2937;transition:all .2s;width:100%;box-sizing:border-box}.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;cursor:not-allowed;color:#9ca3af}.password-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;position:relative}.password-input-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-right:80px}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);padding:6px 12px;background:transparent;border:none;color:#4f46e5;cursor:pointer;font-size:13px;font-weight:600;transition:color .2s}.toggle-password[_ngcontent-%COMP%]:hover:not(:disabled){color:#4338ca;background:transparent}.form-group.checkbox[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:10px;margin-top:5px}.form-group.checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer;accent-color:#4f46e5;border-radius:4px}.form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:13px;color:#4b5563}.form-group.checkbox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none;font-weight:600}.form-group.checkbox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;margin-top:2px;margin-left:2px}.error-alert[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fee2e2;color:#b91c1c;padding:12px;border-radius:6px;font-size:13px;text-align:center}.btn-submit[_ngcontent-%COMP%]{padding:12px;background:#4f46e5;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;margin-top:10px;box-shadow:0 1px 2px #0000000d}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#4338ca}.btn-submit[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding-top:20px;border-top:1px solid #e5e7eb}.login-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none;font-weight:600;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:600px){.register-box[_ngcontent-%COMP%]{padding:30px 20px}}"],changeDetection:0})};export{j as RegisterComponent};
