import{b as z}from"./chunk-YOUZREQW.js";import"./chunk-VANQ5QOH.js";import{b as Y}from"./chunk-C7FBVZFM.js";import"./chunk-A5QHFWYL.js";import{A as d,B as g,h as H,j as U,k as p,l as y,n as J,o as x,p as j,q as K,r as F,s as _,u as B,v,y as W}from"./chunk-WMLRWR2K.js";import{H as c,Ha as O,M as s,Va as R,Wa as C,Xa as D,Ya as I,Za as L,_a as w,h as u,i as f,t as N,ta as T,w as m}from"./chunk-6BNDL2TO.js";import{a as P,b as A}from"./chunk-7CGTOI24.js";var E=class e{authService=s(d);router=s(v);canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}canActivateChild(){return this.canActivate()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})};var V=class e{authService=s(d);router=s(v);canActivate(a){return this.authService.user()?a.some(n=>this.authService.hasRole(n))?!0:(this.router.navigate(["/access-denied"]),!1):(this.router.navigate(["/login"]),!1)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})};var $=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-CZIDS6WQ.js").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-N54Z6ZYK.js").then(e=>e.RegisterComponent)},{path:"",loadComponent:()=>import("./chunk-UWSX5FPR.js").then(e=>e.MainLayoutComponent),canActivate:[E],children:[{path:"dashboard",loadComponent:()=>import("./chunk-EC5CBMQY.js").then(e=>e.DashboardComponent)},{path:"account-settings",loadComponent:()=>import("./chunk-Q52RMPHP.js").then(e=>e.AccountSettingsComponent)},{path:"employees",loadChildren:()=>import("./chunk-YSGA4YYS.js").then(e=>e.EMPLOYEES_ROUTES)},{path:"payroll",loadChildren:()=>import("./chunk-CTRE7EMU.js").then(e=>e.PAYROLL_ROUTES)},{path:"attendance",loadChildren:()=>import("./chunk-3MTWP3GR.js").then(e=>e.ATTENDANCE_ROUTES)},{path:"leave",loadChildren:()=>import("./chunk-ZTMHFHRL.js").then(e=>e.LEAVE_ROUTES)},{path:"performance",loadChildren:()=>import("./chunk-Z5Y56B6Q.js").then(e=>e.PERFORMANCE_ROUTES)},{path:"training",loadChildren:()=>import("./chunk-CRQIK4OB.js").then(e=>e.TRAINING_ROUTES)}]},{path:"access-denied",loadComponent:()=>import("./chunk-PFMGGWO6.js").then(e=>e.AccessDeniedComponent)},{path:"**",redirectTo:"dashboard"}];var k=class e{authService=s(d);intercept(a,o){let t=this.authService.accessToken();return t&&(a=a.clone({setHeaders:{Authorization:`Bearer ${t}`}})),o.handle(a)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=c({token:e,factory:e.\u0275fac})};var b=class e{authService=s(d);errorHandlingService=s(Y);notificationService=s(g);intercept(a,o){return o.handle(a).pipe(N(t=>(this.handleError(t),f(()=>t))))}handleError(a){switch(a.status){case 401:this.authService.logout(),this.notificationService.error("Your session has expired. Please login again.");break;case 403:this.notificationService.error("You do not have permission to access this resource.");break;case 404:this.notificationService.error("Resource not found.");break;case 500:this.notificationService.error("Server error. Please try again later.");break;case 0:this.notificationService.error("Network error. Please check your connection.");break;default:let o=a.error?.message||"An error occurred";this.notificationService.error(o);break}this.errorHandlingService.logError({code:`HTTP_${a.status}`,message:a.message,details:a,timestamp:new Date})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=c({token:e,factory:e.\u0275fac})};var M=class e{mockUsers={"mani@hrms.com":{password:"mani@1234",user:{id:"1",username:"Admin",email:"mani@hrms.com",firstName:"Mani",lastName:"Kandaprabhu",profileImage:"https://ui-avatars.com/api/?name=Mani+Kandaprabhu",isOnline:!0,roles:[{id:"1",name:"ADMIN",permissions:["READ","WRITE","DELETE"]}],createdAt:new Date("2023-01-01"),updatedAt:new Date}},EMP001:{password:"password",user:{id:"EMP001",username:"kiruthik",email:"kiruthik.aswanth@company.com",firstName:"Kiruthik",lastName:"Aswanth",profileImage:"https://ui-avatars.com/api/?name=Kiruthik+Aswanth&background=6366f1&color=fff",isOnline:!0,roles:[{id:"2",name:"EMPLOYEE",permissions:["READ"]}],createdAt:new Date("2023-01-01"),updatedAt:new Date}},EMP002:{password:"password",user:{id:"EMP002",username:"mani.user",email:"mani@company.com",firstName:"Manikanda",lastName:"Prabhu",profileImage:"https://ui-avatars.com/api/?name=Mani+Kandaprabhu&background=1e40af&color=fff",isOnline:!0,roles:[{id:"2",name:"EMPLOYEE",permissions:["READ"]}],createdAt:new Date("2023-01-01"),updatedAt:new Date}},EMP003:{password:"password",user:{id:"EMP003",firstName:"Uthaya",lastName:"Kumar",email:"uthaya@company.com",roles:[{id:"2",name:"EMPLOYEE",permissions:["READ"]}]}},EMP004:{password:"password",user:{id:"EMP004",firstName:"Madesh",lastName:"T",email:"madesh@company.com",roles:[{id:"2",name:"EMPLOYEE",permissions:["READ"]}]}},EMP005:{password:"password",user:{id:"EMP005",firstName:"Joshua",lastName:"Davidson",email:"joshua@company.com",roles:[{id:"2",name:"EMPLOYEE",permissions:["READ"]}]}}};intercept(a,o){if(a.url.includes("/api/auth/login")&&a.method==="POST"){let{email:t,password:n}=a.body,r=this.mockUsers[t];if(!r){let i=Object.keys(this.mockUsers).find(l=>l===t||this.mockUsers[l].user.email===t||this.mockUsers[l].user.id===t);i&&(r=this.mockUsers[i])}if(r&&r.password===n){let i={accessToken:this.generateMockToken(),user:r.user,expiresIn:3600};return u(new p({status:200,body:i})).pipe(m(800))}else return f(()=>new p({status:401,body:{message:"Invalid ID/Email or password",code:"INVALID_CREDENTIALS"}})).pipe(m(800))}if(a.url.includes("/api/auth/register")&&a.method==="POST"){let{email:t,firstName:n,lastName:r,password:i}=a.body;if(this.mockUsers[t])return f(()=>new p({status:409,body:{message:"Email already registered",code:"EMAIL_EXISTS"}})).pipe(m(800));let l={id:Math.random().toString(36).substr(2,9),username:t.split("@")[0],email:t,firstName:n,lastName:r,profileImage:`https://ui-avatars.com/api/?name=${n}+${r}`,isActive:!0,roles:[{id:"2",name:"EMPLOYEE",permissions:["READ"]}],createdAt:new Date,updatedAt:new Date};this.mockUsers[t]={password:i,user:l};let X={accessToken:this.generateMockToken(),user:l,expiresIn:3600};return u(new p({status:201,body:X})).pipe(m(800))}if(a.url.includes("/api/auth/change-password")&&a.method==="POST"){let{currentPassword:t,newPassword:n}=a.body,r=Object.keys(this.mockUsers)[0],i=this.mockUsers[r];return i&&i.password===t?(i.password=n,u(new p({status:200,body:{message:"Password changed successfully"}})).pipe(m(800))):f(()=>new p({status:401,body:{message:"Current password is incorrect",code:"INVALID_PASSWORD"}})).pipe(m(800))}if(a.url.includes("/api/auth/change-email")&&a.method==="POST"){let{newEmail:t,password:n}=a.body,r=Object.keys(this.mockUsers)[0],i=this.mockUsers[r];return i&&i.password===n?this.mockUsers[t]?f(()=>new p({status:409,body:{message:"Email already exists",code:"EMAIL_EXISTS"}})).pipe(m(800)):(i.user.email=t,this.mockUsers[t]=i,delete this.mockUsers[r],u(new p({status:200,body:{message:"Email changed successfully",user:i.user}})).pipe(m(800))):f(()=>new p({status:401,body:{message:"Password is incorrect",code:"INVALID_PASSWORD"}})).pipe(m(800))}if(a.url.includes("/api/employees")){let t=[{id:"EMP001",employeeId:"EMP001",firstName:"Kiruthik",lastName:"Aswanth",email:"kiruthik.aswanth@company.com",designation:"Senior Architect",department:"Engineering",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Kiruthik+Aswanth&background=6366f1&color=fff",isActive:!0,phone:"+91 98765 43220",dateOfJoining:"2020-03-15",salary:125e3,address:"Chennai, Tamil Nadu, India"},{id:"EMP002",employeeId:"EMP002",firstName:"Manikandaprabhu",lastName:"User",email:"mani@company.com",designation:"Tech Lead",department:"Engineering",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Mani+Kandaprabhu&background=1e40af&color=fff",isActive:!0,phone:"+91 98765 43210",dateOfJoining:"2022-01-15",salary:11e4,address:"Chennai, Tamil Nadu, India"},{id:"EMP003",employeeId:"EMP003",firstName:"Uthaya",lastName:"Kumar",email:"uthaya@company.com",designation:"Product Manager",department:"Product",employmentType:"permanent",employmentStatus:"active",workLocation:"hybrid",avatar:"https://ui-avatars.com/api/?name=Uthaya+Kumar&background=14b8a6&color=fff",isActive:!0,phone:"+91 98765 43211",dateOfJoining:"2021-06-20",salary:95e3,address:"Bangalore, Karnataka, India"},{id:"EMP004",employeeId:"EMP004",firstName:"Madesh",lastName:"T",email:"madesh@company.com",designation:"Senior UI/UX Designer",department:"Design",employmentType:"permanent",employmentStatus:"on_leave",workLocation:"remote",avatar:"https://ui-avatars.com/api/?name=Madesh+Rajan&background=f59e0b&color=fff",isActive:!0,phone:"+91 98765 43212",dateOfJoining:"2023-03-10",salary:9e4,address:"Coimbatore, Tamil Nadu, India"},{id:"EMP005",employeeId:"EMP005",firstName:"Joshua",lastName:"Davidson",email:"joshua@company.com",designation:"Data Analyst",department:"Analytics",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Joshua+David&background=ef4444&color=fff",isActive:!0,phone:"+91 98765 43213",dateOfJoining:"2023-09-01",salary:7e4,address:"Hyderabad, Telangana, India"},{id:"EMP006",employeeId:"EMP006",firstName:"Sarah",lastName:"Williams",email:"sarah.w@company.com",designation:"HR Manager",department:"HR & Admin",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Sarah+Williams&background=ec4899&color=fff",isActive:!0,phone:"+91 98765 43214",dateOfJoining:"2019-11-05",salary:85e3,address:"Mumbai, Maharashtra, India"},{id:"EMP007",employeeId:"EMP007",firstName:"David",lastName:"Chen",email:"david.chen@company.com",designation:"Frontend Developer",department:"Engineering",employmentType:"permanent",employmentStatus:"active",workLocation:"hybrid",avatar:"https://ui-avatars.com/api/?name=David+Chen&background=3b82f6&color=fff",isActive:!0,phone:"+91 98765 43215",dateOfJoining:"2023-01-20",salary:65e3,address:"Pune, Maharashtra, India",dateOfBirth:"1995-05-15",gender:"male",nationality:"Indian"},{id:"EMP008",employeeId:"EMP008",firstName:"Emily",lastName:"Rodriguez",email:"emily.r@company.com",designation:"Marketing Specialist",department:"Marketing",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Emily+Rodriguez&background=8b5cf6&color=fff",isActive:!0,phone:"+91 98765 43216",dateOfJoining:"2022-08-15",salary:6e4,address:"Delhi, India"},{id:"EMP009",employeeId:"EMP009",firstName:"James",lastName:"Smith",email:"james.smith@company.com",designation:"DevOps Engineer",department:"Engineering",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=James+Smith&background=10b981&color=fff",isActive:!0,phone:"+91 98765 43217",dateOfJoining:"2022-05-10",salary:8e4,address:"Noida, UP, India"},{id:"EMP010",employeeId:"EMP010",firstName:"Priya",lastName:"Sharma",email:"priya.s@company.com",designation:"QA Engineer",department:"Engineering",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Priya+Sharma&background=f43f5e&color=fff",isActive:!0,phone:"+91 98765 43218",dateOfJoining:"2023-06-01",salary:55e3,address:"Gurgaon, Haryana, India"},{id:"EMP011",employeeId:"EMP011",firstName:"Michael",lastName:"Brown",email:"michael.b@company.com",designation:"Sales Executive",department:"Sales",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Michael+Brown&background=f97316&color=fff",isActive:!0,phone:"+91 98765 43219",dateOfJoining:"2023-02-28",salary:5e4,address:"Kolkata, West Bengal, India"},{id:"EMP012",employeeId:"EMP012",firstName:"Anita",lastName:"Desai",email:"anita.d@company.com",designation:"Content Writer",department:"Marketing",employmentType:"contract",employmentStatus:"active",workLocation:"remote",avatar:"https://ui-avatars.com/api/?name=Anita+Desai&background=06b6d4&color=fff",isActive:!0,phone:"+91 98765 43221",dateOfJoining:"2023-10-10",salary:45e3,address:"Mumbai, Maharashtra, India"},{id:"EMP013",employeeId:"EMP013",firstName:"Robert",lastName:"Taylor",email:"robert.t@company.com",designation:"System Administrator",department:"IT Support",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Robert+Taylor&background=64748b&color=fff",isActive:!0,phone:"+91 98765 43222",dateOfJoining:"2021-01-15",salary:7e4,address:"Bangalore, Karnataka, India"},{id:"EMP014",employeeId:"EMP014",firstName:"Lakshmi",lastName:"Narayanan",email:"lakshmi.n@company.com",designation:"Finance Manager",department:"Finance",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Lakshmi+Narayanan&background=84cc16&color=fff",isActive:!0,phone:"+91 98765 43223",dateOfJoining:"2020-08-01",salary:9e4,address:"Chennai, Tamil Nadu, India"},{id:"EMP015",employeeId:"EMP015",firstName:"Kevin",lastName:"White",email:"kevin.w@company.com",designation:"Junior Developer",department:"Engineering",employmentType:"probation",employmentStatus:"probation",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Kevin+White&background=a855f7&color=fff",isActive:!0,phone:"+91 98765 43224",dateOfJoining:"2023-12-01",salary:4e4,address:"Hyderabad, Telangana, India"},{id:"EMP016",employeeId:"EMP016",firstName:"Sanya",lastName:"Mirza",email:"sanya.m@company.com",designation:"Recruiter",department:"HR & Admin",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Sanya+Mirza&background=db2777&color=fff",isActive:!0,phone:"+91 98765 43225",dateOfJoining:"2022-04-15",salary:55e3,address:"Delhi, India"},{id:"EMP017",employeeId:"EMP017",firstName:"Rahul",lastName:"Verma",email:"rahul.v@company.com",designation:"Business Analyst",department:"Product",employmentType:"permanent",employmentStatus:"active",workLocation:"hybrid",avatar:"https://ui-avatars.com/api/?name=Rahul+Verma&background=ea580c&color=fff",isActive:!0,phone:"+91 98765 43226",dateOfJoining:"2021-11-20",salary:85e3,address:"Pune, Maharashtra, India"},{id:"EMP018",employeeId:"EMP018",firstName:"Jessica",lastName:"Lee",email:"jessica.l@company.com",designation:"Graphic Designer",department:"Design",employmentType:"contract",employmentStatus:"active",workLocation:"remote",avatar:"https://ui-avatars.com/api/?name=Jessica+Lee&background=0ea5e9&color=fff",isActive:!0,phone:"+91 98765 43227",dateOfJoining:"2023-07-01",salary:45e3,address:"Bangalore, Karnataka, India"},{id:"EMP019",employeeId:"EMP019",firstName:"Arun",lastName:"Prakash",email:"arun.p@company.com",designation:"Backend Developer",department:"Engineering",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Arun+Prakash&background=4f46e5&color=fff",isActive:!0,phone:"+91 98765 43228",dateOfJoining:"2022-09-10",salary:75e3,address:"Kochi, Kerala, India"},{id:"EMP020",employeeId:"EMP020",firstName:"Meera",lastName:"Iyer",email:"meera.i@company.com",designation:"Customer Support Lead",department:"Support",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Meera+Iyer&background=be123c&color=fff",isActive:!0,phone:"+91 98765 43229",dateOfJoining:"2020-05-15",salary:65e3,address:"Chennai, Tamil Nadu, India"},{id:"EMP021",employeeId:"EMP021",firstName:"Vikram",lastName:"Singh",email:"vikram.s@company.com",designation:"Sales Manager",department:"Sales",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Vikram+Singh&background=b45309&color=fff",isActive:!0,phone:"+91 98765 43230",dateOfJoining:"2019-08-01",salary:1e5,address:"Delhi, India"},{id:"EMP022",employeeId:"EMP022",firstName:"Nina",lastName:"Patel",email:"nina.p@company.com",designation:"Legal Advisor",department:"Legal",employmentType:"permanent",employmentStatus:"active",workLocation:"remote",avatar:"https://ui-avatars.com/api/?name=Nina+Patel&background=4c1d95&color=fff",isActive:!0,phone:"+91 98765 43231",dateOfJoining:"2021-03-01",salary:12e4,address:"Mumbai, Maharashtra, India"},{id:"EMP023",employeeId:"EMP023",firstName:"Suresh",lastName:"Raina",email:"suresh.r@company.com",designation:"Operations Manager",department:"Operations",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Suresh+Raina&background=047857&color=fff",isActive:!0,phone:"+91 98765 43232",dateOfJoining:"2020-01-20",salary:95e3,address:"Chennai, Tamil Nadu, India"},{id:"EMP024",employeeId:"EMP024",firstName:"Karthik",lastName:"Subbaraj",email:"karthik.s@company.com",designation:"Video Editor",department:"Marketing",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Karthik+Subbaraj&background=b91c1c&color=fff",isActive:!0,phone:"+91 98765 43233",dateOfJoining:"2022-06-15",salary:5e4,address:"Chennai, Tamil Nadu, India"},{id:"EMP025",employeeId:"EMP025",firstName:"Zara",lastName:"Khan",email:"zara.k@company.com",designation:"Social Media Manager",department:"Marketing",employmentType:"permanent",employmentStatus:"active",workLocation:"office",avatar:"https://ui-avatars.com/api/?name=Zara+Khan&background=be185d&color=fff",isActive:!0,phone:"+91 98765 43234",dateOfJoining:"2023-04-10",salary:55e3,address:"Mumbai, Maharashtra, India"}],n=a.url.match(/\/api\/employees\/([^\/\?]+)/);if(n&&a.method==="GET"){let r=n[1],i=t.find(l=>l.id===r||l.employeeId===r);return i?u(new p({status:200,body:i})).pipe(m(500)):f(()=>new p({status:404,body:{message:"Employee not found"}})).pipe(m(500))}if(n&&a.method==="PUT")return u(new p({status:200,body:A(P({},a.body),{id:n[1]})})).pipe(m(800));if(a.method==="GET")return u(new p({status:200,body:{data:t,items:t,pageNumber:1,pageSize:25,totalCount:25,totalPages:1}})).pipe(m(500))}return o.handle(a)}generateMockToken(){let a=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),o=btoa(JSON.stringify({sub:"1",iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600})),t=btoa("mock-signature");return`${a}.${o}.${t}`}static \u0275fac=function(o){return new(o||e)};static \u0275prov=c({token:e,factory:e.\u0275fac})};var G={providers:[W($),_(F()),J(j(),x()),{provide:y,useClass:M,multi:!0},{provide:y,useClass:k,multi:!0},{provide:y,useClass:b,multi:!0}]};var Z=(e,a)=>a.id;function Q(e,a){if(e&1&&w(0,"app-toast",2),e&2){let o=a.$implicit;D("notification",o)}}var S=class e{authService=s(d);notificationService=s(g);notifications=this.notificationService.notifications;ngOnInit(){let a=this.authService.isAuthenticated();console.log("Application initialized. User authenticated:",a)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=O({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"app-container"],[1,"notifications-container"],[3,"notification"]],template:function(o,t){o&1&&(I(0,"div",0),w(1,"router-outlet"),I(2,"div",1),R(3,Q,1,1,"app-toast",2,Z),L()()),o&2&&(T(3),C(t.notifications()))},dependencies:[H,B,K,z],styles:["[_nghost-%COMP%]{--primary-color: #007bff;--secondary-color: #6c757d;--success-color: #28a745;--danger-color: #dc3545;--warning-color: #ffc107;--info-color: #17a2b8;--light-color: #f8f9fa;--dark-color: #343a40;--bg-primary: #ffffff;--bg-secondary: #e7edf2ff;--bg-card: #ffffff;--text-primary: #212529;--text-secondary: #6c757d;--border-color: #dee2e6}.app-container[_ngcontent-%COMP%]{min-height:100vh;background:transparent}.notifications-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;max-width:400px}"],changeDetection:0})};U(S,G).catch(e=>console.error(e));
