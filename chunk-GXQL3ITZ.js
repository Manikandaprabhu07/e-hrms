import{a as J,c as K}from"./chunk-YOUZREQW.js";import"./chunk-VANQ5QOH.js";import{a as R}from"./chunk-C7FBVZFM.js";import{b as Q,d as j,f as H,k as q,l as U,m as Y,q as G}from"./chunk-A5QHFWYL.js";import{A as B,g as A,h as F,v as W}from"./chunk-WMLRWR2K.js";import{Db as y,Ha as D,M as E,R as m,S as g,Ta as v,Ua as P,Va as T,Wa as I,Xa as _,Ya as e,Za as n,_a as O,ba as u,bb as x,eb as p,fb as c,nb as N,ob as i,pb as h,qa as L,qb as f,rb as S,ta as l,tb as C,ub as b,vb as M,yb as V,zb as z}from"./chunk-6BNDL2TO.js";import"./chunk-7CGTOI24.js";var $=(d,o)=>o.id;function ee(d,o){if(d&1){let t=x();e(0,"button",30),p("click",function(){m(t);let s=c();return g(s.addEmployee())}),e(1,"span"),i(2,"+"),n(),i(3," Add Employee "),n()}}function te(d,o){if(d&1){let t=x();e(0,"button",47),p("click",function(){m(t);let s=c().$implicit,a=c(2);return g(a.editEmployee(s))}),i(1,"Edit"),n()}}function ne(d,o){if(d&1){let t=x();e(0,"tr")(1,"td")(2,"span",36),i(3),n()(),e(4,"td")(5,"div",37),O(6,"img",38),e(7,"span",39),i(8),n()()(),e(9,"td"),i(10),n(),e(11,"td"),i(12),n(),e(13,"td"),i(14),n(),e(15,"td")(16,"span",40),i(17),n()(),e(18,"td")(19,"span",41),i(20),n()(),e(21,"td")(22,"span",42),i(23),n()(),e(24,"td")(25,"span",43),i(26),V(27,"number"),n()(),e(28,"td")(29,"span",44),i(30),n()(),e(31,"td")(32,"button",45),p("click",function(){let s=m(t).$implicit,a=c(2);return g(a.viewEmployee(s))}),i(33,"View"),n(),v(34,te,2,0,"button",46),n()()}if(d&2){let t=o.$implicit,r=c(2);l(3),h(t.employeeId||"EMP"+t.id.substring(0,4)),l(3),_("src",t.avatar||r.getDefaultAvatar(t),L)("alt",t.firstName),l(2),S("",t.firstName," ",t.lastName),l(2),h(t.email),l(2),h(t.phone||"-"),l(2),h(t.designation),l(3),h(t.department),l(3),h(r.getEmploymentTypeLabel(t.employmentType)),l(3),h(r.getWorkLocationLabel(t.workLocation)),l(3),f("\u20B9",z(27,16,t.salary)),l(3),N("status-"+t.employmentStatus),l(),f(" ",r.getStatusLabel(t.employmentStatus)," "),l(4),P(r.isAdmin()?34:-1)}}function ie(d,o){if(d&1){let t=x();e(0,"div",31)(1,"table")(2,"thead")(3,"tr")(4,"th",32),p("click",function(){m(t);let s=c();return g(s.sortBy("employeeId"))}),i(5),n(),e(6,"th",32),p("click",function(){m(t);let s=c();return g(s.sortBy("firstName"))}),i(7),n(),e(8,"th"),i(9,"Email"),n(),e(10,"th"),i(11,"Phone"),n(),e(12,"th",32),p("click",function(){m(t);let s=c();return g(s.sortBy("designation"))}),i(13),n(),e(14,"th",32),p("click",function(){m(t);let s=c();return g(s.sortBy("department"))}),i(15),n(),e(16,"th"),i(17,"Employment Type"),n(),e(18,"th"),i(19,"Work Location"),n(),e(20,"th"),i(21,"Salary"),n(),e(22,"th"),i(23,"Status"),n(),e(24,"th"),i(25,"Actions"),n()()(),e(26,"tbody"),T(27,ne,35,18,"tr",null,$),n()()(),e(29,"div",33)(30,"button",34),p("click",function(){m(t);let s=c();return g(s.previousPage())}),i(31," \u2190 Previous "),n(),e(32,"span",35),i(33),n(),e(34,"button",34),p("click",function(){m(t);let s=c();return g(s.nextPage())}),i(35," Next \u2192 "),n()()}if(d&2){let t=c();l(5),f(" Employee ID ",t.getSortIcon("employeeId")," "),l(2),f(" Name ",t.getSortIcon("firstName")," "),l(6),f(" Designation ",t.getSortIcon("designation")," "),l(2),f(" Department ",t.getSortIcon("department")," "),l(12),I(t.paginatedEmployees()),l(3),_("disabled",t.currentPage()===1),l(3),S(" Page ",t.currentPage()," of ",t.totalPages()," "),l(),_("disabled",t.currentPage()===t.totalPages())}}function oe(d,o){d&1&&(e(0,"p",29),i(1,"No employees found matching your criteria"),n())}var X=class d{employeeService=E(R);authService=E(B);router=E(W);employees=this.employeeService.employees;isLoading=this.employeeService.isLoading;employeeCount=this.employeeService.employeeCount;isAdmin=y(()=>this.authService.hasRole("ADMIN"));searchQuery=u("");filterDepartment=u("");filterStatus=u("");filterEmploymentType=u("");sortField=u("firstName");sortOrder=u("asc");currentPage=u(1);pageSize=10;filteredEmployees=y(()=>{let o=this.employees(),t=this.searchQuery().toLowerCase();t&&(o=o.filter(a=>a.firstName.toLowerCase().includes(t)||a.lastName.toLowerCase().includes(t)||a.email.toLowerCase().includes(t)||a.employeeId&&a.employeeId.toLowerCase().includes(t))),this.filterDepartment()&&(o=o.filter(a=>a.department===this.filterDepartment())),this.filterStatus()&&(o=o.filter(a=>a.employmentStatus===this.filterStatus())),this.filterEmploymentType()&&(o=o.filter(a=>a.employmentType===this.filterEmploymentType()));let r=this.sortField(),s=this.sortOrder();return o=[...o].sort((a,Z)=>{let w=a[r],k=Z[r];return w<k?s==="asc"?-1:1:w>k?s==="asc"?1:-1:0}),o});filteredEmployeeCount=y(()=>this.filteredEmployees().length);paginatedEmployees=y(()=>{let o=(this.currentPage()-1)*this.pageSize,t=o+this.pageSize;return this.filteredEmployees().slice(o,t)});totalPages=y(()=>Math.ceil(this.filteredEmployees().length/this.pageSize));ngOnInit(){this.employeeService.getEmployees({pageSize:100,pageNumber:1})}onSearchChange(){this.currentPage.set(1)}applyFilters(){this.currentPage.set(1)}sortBy(o){this.sortField()===o?this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc"):(this.sortField.set(o),this.sortOrder.set("asc"))}getSortIcon(o){return this.sortField()!==o?"":this.sortOrder()==="asc"?"\u2191":"\u2193"}previousPage(){this.currentPage()>1&&this.currentPage.update(o=>o-1)}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.update(o=>o+1)}exportEmployees(){alert(`Exporting ${this.filteredEmployees().length} employees to Excel... (Mock)`)}getDefaultAvatar(o){return`https://ui-avatars.com/api/?name=${o.firstName}+${o.lastName}&background=1e40af&color=fff`}getEmploymentTypeLabel(o){return{permanent:"Permanent",contract:"Contract",part_time:"Part Time",temporary:"Temporary",intern:"Intern"}[o]||o||"Permanent"}getWorkLocationLabel(o){return{office:"Office",remote:"Remote",hybrid:"Hybrid"}[o]||o||"Office"}getStatusLabel(o){return{active:"Active",on_leave:"On Leave",resigned:"Resigned",terminated:"Terminated",probation:"Probation"}[o]||o||"Active"}viewEmployee(o){this.router.navigate(["/employees",o.id])}editEmployee(o){this.router.navigate(["/employees",o.id,"edit"])}addEmployee(){this.router.navigate(["/employees/new"])}static \u0275fac=function(t){return new(t||d)};static \u0275cmp=D({type:d,selectors:[["app-employees-list"]],decls:57,vars:11,consts:[[1,"employees-container"],[1,"page-header"],[1,"header-content"],[1,"subtitle"],[1,"btn","btn-primary","add-btn"],[1,"filters-card",3,"elevated"],[1,"filters-container"],[1,"search-box"],["type","text","placeholder","Search by name, ID, or email...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-icon"],[1,"filter-controls"],[1,"filter-select",3,"ngModelChange","ngModel"],["value",""],["value","Engineering"],["value","Design"],["value","Marketing"],["value","Sales"],["value","HR & Admin"],["value","active"],["value","on_leave"],["value","resigned"],["value","probation"],["value","permanent"],["value","contract"],["value","part_time"],["value","intern"],[1,"btn","btn-secondary",3,"click"],[3,"elevated"],["message","Loading employees...",3,"isLoading"],[1,"text-center","text-muted"],[1,"btn","btn-primary","add-btn",3,"click"],[1,"employees-table"],[1,"sortable",3,"click"],[1,"pagination"],[1,"btn","btn-sm","btn-secondary",3,"click","disabled"],[1,"page-info"],[1,"employee-id"],[1,"employee-info"],[1,"avatar",3,"src","alt"],[1,"employee-name"],[1,"dept-badge"],[1,"type-badge"],[1,"location-badge"],[1,"salary"],[1,"status-badge"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"btn","btn-sm","btn-primary"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(t,r){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),i(5,"Employee Directory"),n(),e(6,"p",3),i(7),n()(),v(8,ee,4,0,"button",4),n()(),e(9,"app-card",5)(10,"div",6)(11,"div",7)(12,"input",8),M("ngModelChange",function(a){return b(r.searchQuery,a)||(r.searchQuery=a),a}),p("ngModelChange",function(){return r.onSearchChange()}),n(),e(13,"span",9),i(14,"\u{1F50D}"),n()(),e(15,"div",10)(16,"select",11),M("ngModelChange",function(a){return b(r.filterDepartment,a)||(r.filterDepartment=a),a}),p("ngModelChange",function(){return r.applyFilters()}),e(17,"option",12),i(18,"All Departments"),n(),e(19,"option",13),i(20,"Engineering"),n(),e(21,"option",14),i(22,"Design"),n(),e(23,"option",15),i(24,"Marketing"),n(),e(25,"option",16),i(26,"Sales"),n(),e(27,"option",17),i(28,"HR & Admin"),n()(),e(29,"select",11),M("ngModelChange",function(a){return b(r.filterStatus,a)||(r.filterStatus=a),a}),p("ngModelChange",function(){return r.applyFilters()}),e(30,"option",12),i(31,"All Status"),n(),e(32,"option",18),i(33,"Active"),n(),e(34,"option",19),i(35,"On Leave"),n(),e(36,"option",20),i(37,"Resigned"),n(),e(38,"option",21),i(39,"Probation"),n()(),e(40,"select",11),M("ngModelChange",function(a){return b(r.filterEmploymentType,a)||(r.filterEmploymentType=a),a}),p("ngModelChange",function(){return r.applyFilters()}),e(41,"option",12),i(42,"All Types"),n(),e(43,"option",22),i(44,"Permanent"),n(),e(45,"option",23),i(46,"Contract"),n(),e(47,"option",24),i(48,"Part Time"),n(),e(49,"option",25),i(50,"Intern"),n()(),e(51,"button",26),p("click",function(){return r.exportEmployees()}),i(52," \u{1F4E5} Export "),n()()()(),e(53,"app-card",27),O(54,"app-loading-spinner",28),v(55,ie,36,8)(56,oe,2,0,"p",29),n()()),t&2&&(l(7),S("",r.filteredEmployeeCount()," of ",r.employeeCount()," employees"),l(),P(r.isAdmin()?8:-1),l(),_("elevated",!0),l(3),C("ngModel",r.searchQuery),l(4),C("ngModel",r.filterDepartment),l(13),C("ngModel",r.filterStatus),l(11),C("ngModel",r.filterEmploymentType),l(13),_("elevated",!0),l(),_("isLoading",r.isLoading()),l(),P(!r.isLoading()&&r.filteredEmployees().length>0?55:r.isLoading()?-1:56))},dependencies:[F,K,J,G,U,Y,Q,q,j,H,A],styles:[".employees-container[_ngcontent-%COMP%]{padding:0}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#1e293b}.subtitle[_ngcontent-%COMP%]{margin:8px 0 0;font-size:14px;color:#64748b}.add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 20px;font-size:14px;border-radius:6px}.filters-card[_ngcontent-%COMP%]{margin-bottom:20px}.filters-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.search-box[_ngcontent-%COMP%]{position:relative;flex:1}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 12px;border:1px solid #e2e8f0;border-radius:6px;font-size:14px;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6}.search-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:16px}.filter-controls[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.filter-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e2e8f0;border-radius:6px;font-size:14px;background:#fff;cursor:pointer}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6}.employees-table[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 400px);overflow-y:auto;overflow-x:auto;display:block;-webkit-overflow-scrolling:touch;border:1px solid #e2e8f0}table[_ngcontent-%COMP%]{border-collapse:collapse;min-width:1800px;width:100%;background:#fff;table-layout:fixed;border:none}th[_ngcontent-%COMP%]:nth-child(1), td[_ngcontent-%COMP%]:nth-child(1){width:120px}th[_ngcontent-%COMP%]:nth-child(2), td[_ngcontent-%COMP%]:nth-child(2){width:220px}th[_ngcontent-%COMP%]:nth-child(3), td[_ngcontent-%COMP%]:nth-child(3){width:250px}th[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(4){width:140px}th[_ngcontent-%COMP%]:nth-child(5), td[_ngcontent-%COMP%]:nth-child(5){width:180px}th[_ngcontent-%COMP%]:nth-child(6), td[_ngcontent-%COMP%]:nth-child(6){width:140px}th[_ngcontent-%COMP%]:nth-child(7), td[_ngcontent-%COMP%]:nth-child(7){width:140px}th[_ngcontent-%COMP%]:nth-child(8), td[_ngcontent-%COMP%]:nth-child(8){width:130px}th[_ngcontent-%COMP%]:nth-child(9), td[_ngcontent-%COMP%]:nth-child(9){width:120px}th[_ngcontent-%COMP%]:nth-child(10), td[_ngcontent-%COMP%]:nth-child(10){width:120px}th[_ngcontent-%COMP%]:nth-child(11), td[_ngcontent-%COMP%]:nth-child(11){width:160px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #e2e8f0;border-right:1px solid #f1f5f9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}th[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background-color:#f8fafc;font-weight:600;font-size:13px;color:#64748b;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #cbd5e1;box-shadow:0 1px 2px #0000000d}th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}th.sortable[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#f9fafb}.employee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;min-width:180px}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.employee-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.employee-id[_ngcontent-%COMP%]{font-family:monospace;font-weight:600;color:#64748b;font-size:12px}.dept-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#e0f2fe;color:#0369a1;border-radius:16px;font-size:12px;font-weight:500}.type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#f3e8ff;color:#7c3aed;border-radius:16px;font-size:12px;font-weight:500}.location-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#fef3c7;color:#d97706;border-radius:16px;font-size:12px;font-weight:500}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:16px;font-size:12px;font-weight:500}.status-badge.status-active[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.status-badge.status-on_leave[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-badge.status-resigned[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status-badge.status-probation[_ngcontent-%COMP%]{background:#dbeafe;color:#2563eb}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;margin-right:6px;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#1e40af;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1e3a8a}.btn-secondary[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d1d5db}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px;padding:20px;border-top:1px solid #e2e8f0}.page-info[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.text-center[_ngcontent-%COMP%]{text-align:center;padding:40px}.text-muted[_ngcontent-%COMP%]{color:#64748b}@media(max-width:768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.filter-controls[_ngcontent-%COMP%]{flex-direction:column;width:100%}.filter-select[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px 8px;font-size:12px}.employee-name[_ngcontent-%COMP%]{font-size:13px}.avatar[_ngcontent-%COMP%]{width:32px;height:32px}.btn[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px}th[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(4), th[_ngcontent-%COMP%]:nth-child(7), td[_ngcontent-%COMP%]:nth-child(7), th[_ngcontent-%COMP%]:nth-child(8), td[_ngcontent-%COMP%]:nth-child(8), th[_ngcontent-%COMP%]:nth-child(9), td[_ngcontent-%COMP%]:nth-child(9){display:none}}"],changeDetection:0})};export{X as EmployeesListComponent};
